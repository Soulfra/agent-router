<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CALOSâ„¢ Pricing Calculator - Calculate Your Exact Price</title>
  <meta name="description" content="Interactive pricing calculator for CALOS Business OS. See exactly what you'll pay based on your usage.">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
      min-height: 100vh;
      padding: 40px 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 60px;
      color: white;
    }

    h1 {
      font-size: 48px;
      margin-bottom: 16px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .subtitle {
      font-size: 20px;
      opacity: 0.9;
      max-width: 700px;
      margin: 0 auto 30px;
    }

    .trademark {
      font-size: 14px;
      opacity: 0.8;
      margin-top: 10px;
    }

    .calculator-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-bottom: 40px;
    }

    .calculator-panel,
    .results-panel {
      background: white;
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    }

    h2 {
      font-size: 28px;
      margin-bottom: 30px;
      color: #667eea;
    }

    .slider-group {
      margin-bottom: 30px;
    }

    .slider-label {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      font-weight: 600;
      color: #555;
    }

    .slider-value {
      font-size: 24px;
      color: #667eea;
      font-weight: bold;
    }

    input[type="range"] {
      width: 100%;
      height: 8px;
      border-radius: 4px;
      background: #e0e0e0;
      outline: none;
      -webkit-appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
    }

    input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      cursor: pointer;
      border: none;
    }

    .helper-text {
      font-size: 13px;
      color: #888;
      margin-top: 6px;
    }

    .price-display {
      text-align: center;
      padding: 40px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 16px;
      color: white;
      margin-bottom: 30px;
    }

    .price-label {
      font-size: 18px;
      opacity: 0.9;
      margin-bottom: 10px;
    }

    .price-amount {
      font-size: 64px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .price-period {
      font-size: 20px;
      opacity: 0.8;
    }

    .recommended-tier {
      background: rgba(255, 255, 255, 0.2);
      padding: 16px;
      border-radius: 8px;
      margin-top: 20px;
      font-size: 16px;
    }

    .breakdown-list {
      list-style: none;
      margin-bottom: 30px;
    }

    .breakdown-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 0;
      border-bottom: 1px solid #f0f0f0;
    }

    .breakdown-item:last-child {
      border-bottom: none;
      font-weight: bold;
      font-size: 20px;
      color: #667eea;
    }

    .breakdown-label {
      font-size: 16px;
      color: #555;
    }

    .breakdown-cost {
      font-size: 18px;
      font-weight: 600;
      color: #667eea;
    }

    .savings-box {
      background: #f0f9ff;
      border: 2px solid #667eea;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 30px;
    }

    .savings-title {
      font-size: 18px;
      font-weight: bold;
      color: #667eea;
      margin-bottom: 12px;
    }

    .savings-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      font-size: 15px;
    }

    .savings-amount {
      font-weight: bold;
      color: #10b981;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 30px;
    }

    .feature-badge {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px;
      background: #f9fafb;
      border-radius: 8px;
      font-size: 14px;
    }

    .feature-icon {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
    }

    .feature-icon.check {
      color: #10b981;
    }

    .feature-icon.cross {
      color: #d1d5db;
    }

    .cta-buttons {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }

    .btn {
      padding: 16px 32px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: bold;
      text-align: center;
      text-decoration: none;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .btn-primary {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
    }

    .btn-secondary {
      background: white;
      color: #667eea;
      border: 2px solid #667eea;
    }

    .comparison-table {
      background: white;
      border-radius: 16px;
      padding: 40px;
      margin-top: 40px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    }

    .comparison-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-top: 30px;
    }

    .tier-column {
      text-align: center;
      padding: 24px;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
    }

    .tier-column.recommended {
      border-color: #667eea;
      background: rgba(102, 126, 234, 0.05);
    }

    .tier-name {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 12px;
      color: #333;
    }

    .tier-price {
      font-size: 32px;
      font-weight: bold;
      color: #667eea;
      margin-bottom: 8px;
    }

    .tier-period {
      font-size: 14px;
      color: #888;
      margin-bottom: 20px;
    }

    .tier-features {
      list-style: none;
      text-align: left;
      font-size: 14px;
    }

    .tier-features li {
      padding: 8px 0;
      border-bottom: 1px solid #f0f0f0;
    }

    @media (max-width: 968px) {
      .calculator-grid {
        grid-template-columns: 1fr;
      }

      .comparison-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .features-grid {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 640px) {
      h1 {
        font-size: 32px;
      }

      .price-amount {
        font-size: 48px;
      }

      .comparison-grid {
        grid-template-columns: 1fr;
      }

      .cta-buttons {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div style="text-align: right; margin-bottom: 20px;">
        <select id="language-selector" style="padding: 8px 16px; font-size: 16px; border-radius: 8px; border: 2px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.9); color: #667eea; font-weight: bold; cursor: pointer;">
          <option value="en">ðŸ‡ºðŸ‡¸ English</option>
          <option value="es">ðŸ‡ªðŸ‡¸ EspaÃ±ol</option>
        </select>
      </div>
      <h1 data-i18n="header.title">CALOSâ„¢ Pricing Calculator</h1>
      <p class="subtitle" data-i18n="header.subtitle">Calculate your exact price based on your usage. No hidden fees, transparent pricing.</p>
      <p class="trademark" data-i18n="header.trademark">CALOSâ„¢ is a trademark of CALOS, Inc. | Patent Pending</p>
    </header>

    <div class="calculator-grid">
      <!-- Left: Calculator Inputs -->
      <div class="calculator-panel">
        <h2 data-i18n="calculator.yourUsage">Your Usage</h2>

        <div class="slider-group">
          <div class="slider-label">
            <span data-i18n="calculator.transcripts">Transcripts per month</span>
            <span class="slider-value" id="transcripts-value">0</span>
          </div>
          <input type="range" id="transcripts-slider" min="0" max="1000" value="0" step="5">
          <p class="helper-text" data-i18n="calculator.transcriptsHelp">NotebookLM-style AI transcript analysis ($0.05 each after free tier)</p>
        </div>

        <div class="slider-group">
          <div class="slider-label">
            <span data-i18n="calculator.pos">POS Transactions per month</span>
            <span class="slider-value" id="pos-value">0</span>
          </div>
          <input type="range" id="pos-slider" min="0" max="10000" value="0" step="50">
          <p class="helper-text" data-i18n="calculator.posHelp">In-person card payments (2.6% + $0.10 per transaction)</p>
        </div>

        <div class="slider-group">
          <div class="slider-label">
            <span data-i18n="calculator.crypto">Crypto Charges per month</span>
            <span class="slider-value" id="crypto-value">0</span>
          </div>
          <input type="range" id="crypto-slider" min="0" max="100" value="0" step="1">
          <p class="helper-text" data-i18n="calculator.cryptoHelp">Bitcoin, Ethereum, USDC payments (1.5% per charge)</p>
        </div>

        <div class="slider-group">
          <div class="slider-label">
            <span data-i18n="calculator.locations">Locations</span>
            <span class="slider-value" id="locations-value">1</span>
          </div>
          <input type="range" id="locations-slider" min="1" max="50" value="1" step="1">
          <p class="helper-text" data-i18n="calculator.locationsHelp">Physical store locations ($10/mo per additional location)</p>
        </div>

        <div class="slider-group">
          <div class="slider-label">
            <span data-i18n="calculator.api">API Requests per day</span>
            <span class="slider-value" id="api-value">0</span>
          </div>
          <input type="range" id="api-slider" min="0" max="100000" value="0" step="100">
          <p class="helper-text" data-i18n="calculator.apiHelp">External API calls ($0.001 per request after free tier)</p>
        </div>
      </div>

      <!-- Right: Results -->
      <div class="results-panel">
        <h2 data-i18n="results.yourPrice">Your Price</h2>

        <div class="price-display">
          <div class="price-label" data-i18n="results.totalCost">Total Monthly Cost</div>
          <div class="price-amount" id="total-price">$0</div>
          <div class="price-period" data-i18n="results.perMonth">per month</div>
          <div class="recommended-tier" id="recommended-tier">
            <span data-i18n="results.recommended">Recommended:</span> <strong data-i18n="results.freeTier">Free Tier</strong>
          </div>
        </div>

        <h3 style="margin-bottom: 20px; color: #667eea;" data-i18n="results.breakdown">Pricing Breakdown</h3>
        <ul class="breakdown-list" id="breakdown-list">
          <li class="breakdown-item">
            <span class="breakdown-label">Calculating...</span>
            <span class="breakdown-cost">$0.00</span>
          </li>
        </ul>

        <div class="savings-box" id="savings-box" style="display: none;">
          <div class="savings-title">ðŸ’° You Save</div>
          <div class="savings-item">
            <span>vs. Square</span>
            <span class="savings-amount" id="savings-square">$0.00/mo</span>
          </div>
          <div class="savings-item">
            <span>vs. Shopify</span>
            <span class="savings-amount" id="savings-shopify">$0.00/mo</span>
          </div>
        </div>

        <h3 style="margin-bottom: 16px; color: #667eea;">Included Features</h3>
        <div class="features-grid" id="features-grid">
          <!-- Features will be populated here -->
        </div>

        <div class="cta-buttons">
          <a href="/signup" class="btn btn-primary">Get Started</a>
          <a href="/pricing.html" class="btn btn-secondary">View All Tiers</a>
        </div>
      </div>
    </div>

    <!-- Tier Comparison -->
    <div class="comparison-table">
      <h2>Tier Comparison</h2>
      <div class="comparison-grid">
        <div class="tier-column">
          <div class="tier-name">Free</div>
          <div class="tier-price">$0</div>
          <div class="tier-period">/month</div>
          <ul class="tier-features">
            <li>5 transcripts/month</li>
            <li>100 POS transactions/month</li>
            <li>1 location</li>
            <li>Community support</li>
          </ul>
        </div>

        <div class="tier-column" id="pro-column">
          <div class="tier-name">Pro</div>
          <div class="tier-price">$29</div>
          <div class="tier-period">/month</div>
          <ul class="tier-features">
            <li>Unlimited transcripts</li>
            <li>Unlimited POS</li>
            <li>5 locations</li>
            <li>White-label</li>
            <li>QuickBooks sync</li>
            <li>Priority support</li>
          </ul>
        </div>

        <div class="tier-column" id="enterprise-column">
          <div class="tier-name">Enterprise</div>
          <div class="tier-price">$99</div>
          <div class="tier-period">/month</div>
          <ul class="tier-features">
            <li>Everything in Pro</li>
            <li>Unlimited locations</li>
            <li>API access (10k/day)</li>
            <li>SLA (99.9% uptime)</li>
            <li>Air-gapped mode</li>
            <li>Dedicated manager</li>
          </ul>
        </div>

        <div class="tier-column">
          <div class="tier-name">Self-Hosted</div>
          <div class="tier-price">$0</div>
          <div class="tier-period">forever</div>
          <ul class="tier-features">
            <li>Full source code</li>
            <li>Unlimited everything</li>
            <li>MIT license</li>
            <li>Docker deployment</li>
            <li>Community support</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script>
    // i18n Translation System
    const translations = {
      en: {
        header: {
          title: 'CALOSâ„¢ Pricing Calculator',
          subtitle: 'Calculate your exact price based on your usage. No hidden fees, transparent pricing.',
          trademark: 'CALOSâ„¢ is a trademark of CALOS, Inc. | Patent Pending'
        },
        calculator: {
          yourUsage: 'Your Usage',
          transcripts: 'Transcripts per month',
          transcriptsHelp: 'NotebookLM-style AI transcript analysis ($0.05 each after free tier)',
          pos: 'POS Transactions per month',
          posHelp: 'In-person card payments (2.6% + $0.10 per transaction)',
          crypto: 'Crypto Charges per month',
          cryptoHelp: 'Bitcoin, Ethereum, USDC payments (1.5% per charge)',
          locations: 'Locations',
          locationsHelp: 'Physical store locations ($10/mo per additional location)',
          api: 'API Requests per day',
          apiHelp: 'External API calls ($0.001 per request after free tier)'
        },
        results: {
          yourPrice: 'Your Price',
          totalCost: 'Total Monthly Cost',
          perMonth: 'per month',
          recommended: 'Recommended:',
          freeTier: 'Free Tier',
          breakdown: 'Pricing Breakdown',
          savings: 'You Save',
          features: 'Included Features',
          getStarted: 'Get Started',
          viewAllTiers: 'View All Tiers'
        },
        tiers: {
          free: 'Free',
          pro: 'Pro',
          enterprise: 'Enterprise',
          selfHosted: 'Self-Hosted',
          proTier: 'Pro Tier ($29/mo)',
          enterpriseTier: 'Enterprise Tier ($99/mo)',
          comparison: 'Tier Comparison'
        },
        breakdown: {
          subscription: 'Base Subscription',
          transcripts: 'Transcripts',
          pos: 'POS Transactions',
          crypto: 'Crypto Payments',
          locations: 'Additional Locations',
          api: 'API Requests',
          total: 'Total'
        },
        features: {
          communitySupport: 'Community support',
          basicThemes: 'Basic themes',
          emailSupport: 'Email support',
          whiteLabel: 'White-label branding',
          quickbooksSync: 'QuickBooks sync',
          prioritySupport: 'Priority support',
          fiveLocations: '5 locations',
          customDomain: 'Custom domain',
          advancedAnalytics: 'Advanced analytics',
          everythingInPro: 'Everything in Pro',
          unlimitedLocations: 'Unlimited locations',
          apiAccess: 'API access',
          sla: 'SLA (99.9% uptime)',
          airgapped: 'Air-gapped mode',
          dedicatedManager: 'Dedicated manager'
        }
      },
      es: {
        header: {
          title: 'Calculadora de Precios CALOSâ„¢',
          subtitle: 'Calcula tu precio exacto segÃºn tu uso. Sin tarifas ocultas, precios transparentes.',
          trademark: 'CALOSâ„¢ es una marca registrada de CALOS, Inc. | Patente Pendiente'
        },
        calculator: {
          yourUsage: 'Tu Uso',
          transcripts: 'Transcripciones por mes',
          transcriptsHelp: 'AnÃ¡lisis de transcripciones AI estilo NotebookLM ($0.05 cada una despuÃ©s del nivel gratuito)',
          pos: 'Transacciones POS por mes',
          posHelp: 'Pagos con tarjeta en persona (2.6% + $0.10 por transacciÃ³n)',
          crypto: 'Cargos Crypto por mes',
          cryptoHelp: 'Pagos Bitcoin, Ethereum, USDC (1.5% por cargo)',
          locations: 'Ubicaciones',
          locationsHelp: 'Ubicaciones de tiendas fÃ­sicas ($10/mes por ubicaciÃ³n adicional)',
          api: 'Solicitudes API por dÃ­a',
          apiHelp: 'Llamadas API externas ($0.001 por solicitud despuÃ©s del nivel gratuito)'
        },
        results: {
          yourPrice: 'Tu Precio',
          totalCost: 'Costo Mensual Total',
          perMonth: 'por mes',
          recommended: 'Recomendado:',
          freeTier: 'Nivel Gratuito',
          breakdown: 'Desglose de Precios',
          savings: 'Ahorras',
          features: 'CaracterÃ­sticas Incluidas',
          getStarted: 'Comenzar',
          viewAllTiers: 'Ver Todos los Niveles'
        },
        tiers: {
          free: 'Gratuito',
          pro: 'Pro',
          enterprise: 'Empresarial',
          selfHosted: 'Auto-Hospedado',
          proTier: 'Nivel Pro ($29/mes)',
          enterpriseTier: 'Nivel Empresarial ($99/mes)',
          comparison: 'ComparaciÃ³n de Niveles'
        },
        breakdown: {
          subscription: 'SuscripciÃ³n Base',
          transcripts: 'Transcripciones',
          pos: 'Transacciones POS',
          crypto: 'Pagos Crypto',
          locations: 'Ubicaciones Adicionales',
          api: 'Solicitudes API',
          total: 'Total'
        },
        features: {
          communitySupport: 'Soporte comunitario',
          basicThemes: 'Temas bÃ¡sicos',
          emailSupport: 'Soporte por correo',
          whiteLabel: 'Marca blanca',
          quickbooksSync: 'SincronizaciÃ³n QuickBooks',
          prioritySupport: 'Soporte prioritario',
          fiveLocations: '5 ubicaciones',
          customDomain: 'Dominio personalizado',
          advancedAnalytics: 'AnÃ¡lisis avanzados',
          everythingInPro: 'Todo en Pro',
          unlimitedLocations: 'Ubicaciones ilimitadas',
          apiAccess: 'Acceso API',
          sla: 'SLA (99.9% uptime)',
          airgapped: 'Modo air-gapped',
          dedicatedManager: 'Gerente dedicado'
        }
      }
    };

    let currentLanguage = 'en';

    function setLanguage(lang) {
      currentLanguage = lang;
      document.querySelectorAll('[data-i18n]').forEach(elem => {
        const key = elem.getAttribute('data-i18n');
        const keys = key.split('.');
        let translation = translations[lang];
        for (const k of keys) {
          translation = translation?.[k];
        }
        if (translation) {
          elem.textContent = translation;
        }
      });

      // Save preference
      localStorage.setItem('calos-language', lang);

      // Update recommended tier display
      updatePricing();
    }

    // Load saved language preference
    const savedLanguage = localStorage.getItem('calos-language') || 'en';
    document.getElementById('language-selector').value = savedLanguage;

    // Language selector event
    document.getElementById('language-selector').addEventListener('change', (e) => {
      setLanguage(e.target.value);
    });

    // Pricing calculator logic
    const PricingCalculator = class {
      constructor() {
        this.usagePricing = {
          transcriptCost: 0.05,
          posTransactionFeePercent: 0.026,
          posTransactionFeeFixed: 0.10,
          cryptoFeePercent: 0.015,
          locationCost: 10,
          apiRequestCost: 0.001
        };

        this.tiers = {
          free: { baseCost: 0, limits: { transcripts: 5, posTransactions: 100, locations: 1, apiRequests: 100 } },
          pro: { baseCost: 29, limits: { transcripts: Infinity, posTransactions: Infinity, locations: 5, apiRequests: 10000 } },
          enterprise: { baseCost: 99, limits: { transcripts: Infinity, posTransactions: Infinity, locations: Infinity, apiRequests: Infinity } }
        };
      }

      calculate(usage) {
        const tier = this.recommendTier(usage);
        const costs = {
          subscription: this.tiers[tier].baseCost,
          transcripts: this.calculateTranscriptCost(usage.transcripts, tier),
          pos: this.calculatePOSCost(usage.posTransactions, 50),
          crypto: this.calculateCryptoCost(usage.cryptoCharges, 100),
          locations: this.calculateLocationCost(usage.locations, tier),
          apiRequests: this.calculateAPICost(usage.apiRequests, tier)
        };

        const total = Object.values(costs).reduce((sum, cost) => sum + cost, 0);

        return {
          tier,
          costs,
          total,
          savings: this.calculateSavings(usage, total)
        };
      }

      recommendTier(usage) {
        if (usage.transcripts <= 5 && usage.posTransactions <= 100 && usage.locations <= 1 && usage.apiRequests <= 100) {
          return 'free';
        }
        if (usage.locations <= 5 && usage.apiRequests <= 10000) {
          return 'pro';
        }
        return 'enterprise';
      }

      calculateTranscriptCost(transcripts, tier) {
        const freeTier = this.tiers[tier].limits.transcripts;
        if (transcripts <= freeTier) return 0;
        return (transcripts - freeTier) * this.usagePricing.transcriptCost;
      }

      calculatePOSCost(transactions, avgAmount) {
        if (transactions === 0) return 0;
        const total = transactions * avgAmount;
        return total * this.usagePricing.posTransactionFeePercent + transactions * this.usagePricing.posTransactionFeeFixed;
      }

      calculateCryptoCost(charges, avgAmount) {
        if (charges === 0) return 0;
        return charges * avgAmount * this.usagePricing.cryptoFeePercent;
      }

      calculateLocationCost(locations, tier) {
        const included = this.tiers[tier].limits.locations;
        if (locations <= included) return 0;
        return (locations - included) * this.usagePricing.locationCost;
      }

      calculateAPICost(requests, tier) {
        const freeTier = this.tiers[tier].limits.apiRequests;
        if (requests <= freeTier) return 0;
        return (requests - freeTier) * this.usagePricing.apiRequestCost;
      }

      calculateSavings(usage, calosTotal) {
        const squareTotal = usage.posTransactions * (50 * 0.026 + 0.10);
        const shopifyTotal = 29 + usage.posTransactions * (50 * 0.029 + 0.30);
        return {
          vsSquare: Math.max(0, squareTotal - calosTotal),
          vsShopify: Math.max(0, shopifyTotal - calosTotal)
        };
      }
    };

    // Initialize calculator
    const calculator = new PricingCalculator();

    // Get DOM elements
    const transcriptsSlider = document.getElementById('transcripts-slider');
    const posSlider = document.getElementById('pos-slider');
    const cryptoSlider = document.getElementById('crypto-slider');
    const locationsSlider = document.getElementById('locations-slider');
    const apiSlider = document.getElementById('api-slider');

    const transcriptsValue = document.getElementById('transcripts-value');
    const posValue = document.getElementById('pos-value');
    const cryptoValue = document.getElementById('crypto-value');
    const locationsValue = document.getElementById('locations-value');
    const apiValue = document.getElementById('api-value');

    const totalPrice = document.getElementById('total-price');
    const recommendedTier = document.getElementById('recommended-tier');
    const breakdownList = document.getElementById('breakdown-list');
    const savingsBox = document.getElementById('savings-box');
    const savingsSquare = document.getElementById('savings-square');
    const savingsShopify = document.getElementById('savings-shopify');
    const featuresGrid = document.getElementById('features-grid');

    // Update function
    function updatePricing() {
      const usage = {
        transcripts: parseInt(transcriptsSlider.value),
        posTransactions: parseInt(posSlider.value),
        cryptoCharges: parseInt(cryptoSlider.value),
        locations: parseInt(locationsSlider.value),
        apiRequests: parseInt(apiSlider.value)
      };

      // Update slider values
      transcriptsValue.textContent = usage.transcripts.toLocaleString();
      posValue.textContent = usage.posTransactions.toLocaleString();
      cryptoValue.textContent = usage.cryptoCharges;
      locationsValue.textContent = usage.locations;
      apiValue.textContent = usage.apiRequests.toLocaleString();

      // Calculate pricing
      const result = calculator.calculate(usage);

      // Update total price
      totalPrice.textContent = `$${result.total.toFixed(0)}`;

      // Update recommended tier
      const tierNames = {
        free: translations[currentLanguage].results.freeTier,
        pro: translations[currentLanguage].tiers.proTier,
        enterprise: translations[currentLanguage].tiers.enterpriseTier
      };
      recommendedTier.innerHTML = `<span data-i18n="results.recommended">${translations[currentLanguage].results.recommended}</span> <strong>${tierNames[result.tier]}</strong>`;

      // Highlight recommended tier
      document.getElementById('pro-column').classList.remove('recommended');
      document.getElementById('enterprise-column').classList.remove('recommended');
      if (result.tier === 'pro') document.getElementById('pro-column').classList.add('recommended');
      if (result.tier === 'enterprise') document.getElementById('enterprise-column').classList.add('recommended');

      // Update breakdown
      const breakdown = [];
      const breakdownLabels = translations[currentLanguage].breakdown;
      if (result.costs.subscription > 0) breakdown.push({ label: breakdownLabels.subscription, cost: result.costs.subscription });
      if (result.costs.transcripts > 0) breakdown.push({ label: breakdownLabels.transcripts, cost: result.costs.transcripts });
      if (result.costs.pos > 0) breakdown.push({ label: breakdownLabels.pos, cost: result.costs.pos });
      if (result.costs.crypto > 0) breakdown.push({ label: breakdownLabels.crypto, cost: result.costs.crypto });
      if (result.costs.locations > 0) breakdown.push({ label: breakdownLabels.locations, cost: result.costs.locations });
      if (result.costs.apiRequests > 0) breakdown.push({ label: breakdownLabels.api, cost: result.costs.apiRequests });

      breakdownList.innerHTML = breakdown.map(item => `
        <li class="breakdown-item">
          <span class="breakdown-label">${item.label}</span>
          <span class="breakdown-cost">$${item.cost.toFixed(2)}</span>
        </li>
      `).join('') + `
        <li class="breakdown-item">
          <span class="breakdown-label">${breakdownLabels.total}</span>
          <span class="breakdown-cost">$${result.total.toFixed(2)}/mo</span>
        </li>
      `;

      // Update savings
      if (result.savings.vsSquare > 0 || result.savings.vsShopify > 0) {
        savingsBox.style.display = 'block';
        savingsSquare.textContent = `$${result.savings.vsSquare.toFixed(2)}/mo`;
        savingsShopify.textContent = `$${result.savings.vsShopify.toFixed(2)}/mo`;
      } else {
        savingsBox.style.display = 'none';
      }

      // Update features
      const featureLabels = translations[currentLanguage].features;
      const features = {
        free: [featureLabels.communitySupport, featureLabels.basicThemes, featureLabels.emailSupport],
        pro: [featureLabels.whiteLabel, featureLabels.quickbooksSync, featureLabels.prioritySupport, featureLabels.fiveLocations, featureLabels.customDomain, featureLabels.advancedAnalytics],
        enterprise: [featureLabels.everythingInPro, featureLabels.unlimitedLocations, featureLabels.apiAccess, featureLabels.sla, featureLabels.airgapped, featureLabels.dedicatedManager]
      };

      featuresGrid.innerHTML = features[result.tier].map(feature => `
        <div class="feature-badge">
          <span class="feature-icon check">âœ“</span>
          <span>${feature}</span>
        </div>
      `).join('');
    }

    // Attach event listeners
    transcriptsSlider.addEventListener('input', updatePricing);
    posSlider.addEventListener('input', updatePricing);
    cryptoSlider.addEventListener('input', updatePricing);
    locationsSlider.addEventListener('input', updatePricing);
    apiSlider.addEventListener('input', updatePricing);

    // Load saved language on page load FIRST
    setLanguage(savedLanguage);

    // Then do initial calculation (which will use translated labels)
    updatePricing();
  </script>
</body>
</html>
