<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Card Pack Opener - CalOS</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Monaco', 'Courier New', monospace;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #0f0f23;
      color: #e0e0e0;
    }

    h1 {
      color: #667eea;
      margin-bottom: 10px;
    }

    .subtitle {
      color: #888;
      margin-bottom: 30px;
    }

    .section {
      background: #1a1a2e;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 20px;
      border: 1px solid #2a2a3e;
    }

    .section h2 {
      color: #764ba2;
      margin-bottom: 15px;
      font-size: 18px;
    }

    button {
      padding: 12px 20px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-family: inherit;
      font-size: 14px;
      font-weight: 600;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    button:active {
      transform: translateY(0);
    }

    button:disabled {
      background: #444;
      cursor: not-allowed;
      transform: none;
    }

    .pack-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .pack-card {
      background: linear-gradient(135deg, #667eea, #764ba2);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
      overflow: hidden;
    }

    .pack-card:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.5);
    }

    .pack-name {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .pack-desc {
      font-size: 12px;
      opacity: 0.9;
      margin-bottom: 15px;
    }

    .pack-cost {
      background: rgba(0, 0, 0, 0.3);
      padding: 8px 15px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: bold;
    }

    .cards-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .card {
      background: #1a1a2e;
      border-radius: 10px;
      padding: 20px;
      border: 2px solid;
      position: relative;
      animation: cardReveal 0.5s ease-out;
      animation-fill-mode: both;
    }

    .card.common { border-color: #888; }
    .card.uncommon { border-color: #4caf50; }
    .card.rare { border-color: #2196f3; }
    .card.epic { border-color: #9c27b0; }
    .card.legendary { border-color: #ffd700; box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }

    @keyframes cardReveal {
      0% {
        transform: rotateY(90deg) scale(0.8);
        opacity: 0;
      }
      100% {
        transform: rotateY(0) scale(1);
        opacity: 1;
      }
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .card-title {
      font-size: 18px;
      font-weight: bold;
    }

    .card-rarity {
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
    }

    .card-rarity.common { background: #888; color: white; }
    .card-rarity.uncommon { background: #4caf50; color: white; }
    .card-rarity.rare { background: #2196f3; color: white; }
    .card-rarity.epic { background: #9c27b0; color: white; }
    .card-rarity.legendary { background: #ffd700; color: #0f0f23; }

    .card-desc {
      color: #aaa;
      font-size: 13px;
      line-height: 1.6;
      margin-bottom: 15px;
    }

    .card-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 15px;
    }

    .card-stat {
      text-align: center;
      background: #0a0a15;
      padding: 10px;
      border-radius: 5px;
    }

    .stat-value {
      font-size: 20px;
      font-weight: bold;
      color: #667eea;
    }

    .stat-label {
      font-size: 10px;
      color: #888;
      text-transform: uppercase;
    }

    .opening-animation {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.95);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      flex-direction: column;
    }

    .opening-animation.active {
      display: flex;
    }

    .opening-text {
      font-size: 48px;
      color: #ffd700;
      text-align: center;
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.1); opacity: 0.8; }
    }

    .stats-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 15px;
      margin-bottom: 20px;
    }

    .stat-box {
      background: #0a0a15;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
    }

    .stat-box-value {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .stat-box-value.legendary { color: #ffd700; }
    .stat-box-value.epic { color: #9c27b0; }
    .stat-box-value.rare { color: #2196f3; }

    .stat-box-label {
      font-size: 11px;
      color: #888;
    }
  </style>
</head>
<body>
  <h1>Card Pack Opener</h1>
  <p class="subtitle">Open packs and collect rare cards with animated reveals</p>

  <!-- Pack Stats -->
  <div class="section">
    <h2>Your Stats</h2>
    <div class="stats-summary">
      <div class="stat-box">
        <div class="stat-box-value" id="packs-opened">0</div>
        <div class="stat-box-label">Packs Opened</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-value" id="total-cards">0</div>
        <div class="stat-box-label">Total Cards</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-value legendary" id="legendary-count">0</div>
        <div class="stat-box-label">Legendary</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-value epic" id="epic-count">0</div>
        <div class="stat-box-label">Epic</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-value rare" id="rare-count">0</div>
        <div class="stat-box-label">Rare</div>
      </div>
    </div>
  </div>

  <!-- Available Packs -->
  <div class="section">
    <h2>Available Packs</h2>
    <div class="pack-container">
      <div class="pack-card" onclick="openPack('starter')">
        <div class="pack-name">Starter Pack</div>
        <div class="pack-desc">5 cards, Common-Rare</div>
        <div class="pack-cost">FREE</div>
      </div>
      <div class="pack-card" onclick="openPack('premium')">
        <div class="pack-name">Premium Pack</div>
        <div class="pack-desc">7 cards, Uncommon-Epic</div>
        <div class="pack-cost">100 Coins</div>
      </div>
      <div class="pack-card" onclick="openPack('legendary')" style="background: linear-gradient(135deg, #ffd700, #ff8c00);">
        <div class="pack-name">Legendary Pack</div>
        <div class="pack-desc">10 cards, Rare-Legendary</div>
        <div class="pack-cost">500 Coins</div>
      </div>
    </div>
  </div>

  <!-- Opened Cards -->
  <div class="section">
    <h2>Last Pack Opened</h2>
    <div class="cards-container" id="cards-container">
      <p style="color: #888; text-align: center; padding: 40px;">Select a pack above to open!</p>
    </div>
  </div>

  <!-- Opening Animation -->
  <div class="opening-animation" id="opening-animation">
    <div class="opening-text">Opening Pack...</div>
  </div>

  <script>
    let stats = {
      packsOpened: 0,
      totalCards: 0,
      legendary: 0,
      epic: 0,
      rare: 0,
      uncommon: 0,
      common: 0
    };

    // Load stats from localStorage
    function loadStats() {
      const saved = localStorage.getItem('card-opener-stats');
      if (saved) {
        stats = JSON.parse(saved);
        updateStatsUI();
      }
    }

    // Save stats to localStorage
    function saveStats() {
      localStorage.setItem('card-opener-stats', JSON.stringify(stats));
    }

    // Update stats UI
    function updateStatsUI() {
      document.getElementById('packs-opened').textContent = stats.packsOpened;
      document.getElementById('total-cards').textContent = stats.totalCards;
      document.getElementById('legendary-count').textContent = stats.legendary;
      document.getElementById('epic-count').textContent = stats.epic;
      document.getElementById('rare-count').textContent = stats.rare;
    }

    // Card database
    const CARDS = {
      common: [
        { name: 'Console Logger', desc: 'Basic debugging tool. Prints everything to console.', power: 2, defense: 1, speed: 5 },
        { name: 'Variable Hoarder', desc: 'Stores way too many variables in memory.', power: 1, defense: 2, speed: 3 },
        { name: 'Copy Pasta', desc: 'Stack Overflow\'s best friend.', power: 3, defense: 1, speed: 4 },
        { name: 'Syntax Error', desc: 'Always shows up at the worst time.', power: 1, defense: 1, speed: 2 }
      ],
      uncommon: [
        { name: 'Git Committer', desc: 'Commits often, pushes rarely.', power: 4, defense: 3, speed: 6 },
        { name: 'API Caller', desc: 'Fetches data like there\'s no tomorrow.', power: 5, defense: 2, speed: 7 },
        { name: 'Async Master', desc: 'Promises to resolve your problems.', power: 6, defense: 3, speed: 8 }
      ],
      rare: [
        { name: 'Code Reviewer', desc: 'Finds bugs you didn\'t know existed.', power: 7, defense: 5, speed: 6 },
        { name: 'DevOps Wizard', desc: 'Deploys to production on Fridays.', power: 8, defense: 6, speed: 7 },
        { name: 'Regex Ninja', desc: 'Reads regex like normal people read English.', power: 9, defense: 4, speed: 8 }
      ],
      epic: [
        { name: 'Tech Lead', desc: 'Architects solutions, mentors juniors, writes no code.', power: 12, defense: 8, speed: 9 },
        { name: '10x Engineer', desc: 'Writes code 10x faster, creates 20x more bugs.', power: 15, defense: 5, speed: 12 }
      ],
      legendary: [
        { name: 'Stack Overflow', desc: 'The ultimate oracle. Has all the answers.', power: 20, defense: 15, speed: 10 },
        { name: 'ChatGPT', desc: 'Writes your code while you drink coffee.', power: 25, defense: 10, speed: 15 }
      ]
    };

    // Get random card by rarity
    function getRandomCard(rarity) {
      const pool = CARDS[rarity];
      const card = pool[Math.floor(Math.random() * pool.length)];
      return { ...card, rarity };
    }

    // Generate pack contents
    function generatePack(packType) {
      const packs = {
        starter: [
          { rarity: 'common', count: 3 },
          { rarity: 'uncommon', count: 2 }
        ],
        premium: [
          { rarity: 'common', count: 2 },
          { rarity: 'uncommon', count: 3 },
          { rarity: 'rare', count: 2 }
        ],
        legendary: [
          { rarity: 'uncommon', count: 3 },
          { rarity: 'rare', count: 4 },
          { rarity: 'epic', count: 2 },
          { rarity: 'legendary', count: 1 }
        ]
      };

      const packConfig = packs[packType];
      const cards = [];

      packConfig.forEach(({ rarity, count }) => {
        for (let i = 0; i < count; i++) {
          cards.push(getRandomCard(rarity));
        }
      });

      // Shuffle cards
      return cards.sort(() => Math.random() - 0.5);
    }

    // Open pack with animation
    async function openPack(packType) {
      // Show opening animation
      const animation = document.getElementById('opening-animation');
      animation.classList.add('active');

      // Wait 2 seconds
      await new Promise(resolve => setTimeout(resolve, 2000));

      // Hide animation
      animation.classList.remove('active');

      // Generate cards
      const cards = generatePack(packType);

      // Update stats
      stats.packsOpened++;
      stats.totalCards += cards.length;

      cards.forEach(card => {
        stats[card.rarity]++;
      });

      updateStatsUI();
      saveStats();

      // Display cards
      displayCards(cards);
    }

    // Display cards with staggered animation
    function displayCards(cards) {
      const container = document.getElementById('cards-container');
      container.innerHTML = '';

      cards.forEach((card, index) => {
        const cardDiv = document.createElement('div');
        cardDiv.className = `card ${card.rarity}`;
        cardDiv.style.animationDelay = `${index * 0.1}s`;

        cardDiv.innerHTML = `
          <div class="card-header">
            <div class="card-title">${card.name}</div>
            <div class="card-rarity ${card.rarity}">${card.rarity}</div>
          </div>
          <div class="card-desc">${card.desc}</div>
          <div class="card-stats">
            <div class="card-stat">
              <div class="stat-value">${card.power}</div>
              <div class="stat-label">Power</div>
            </div>
            <div class="card-stat">
              <div class="stat-value">${card.defense}</div>
              <div class="stat-label">Defense</div>
            </div>
            <div class="card-stat">
              <div class="stat-value">${card.speed}</div>
              <div class="stat-label">Speed</div>
            </div>
          </div>
        `;

        container.appendChild(cardDiv);
      });
    }

    // Load stats on page load
    window.addEventListener('load', () => {
      loadStats();
    });
  </script>
</body>
</html>
